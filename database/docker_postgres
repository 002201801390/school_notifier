# Para instalar o docker siga os passos em https://docs.docker.com/
# P.S. Evitar instalações via 'snap' e 'flatpak'

# Após a instalação do Docker...
# P.S. Alguns comandos podem necessitar de permissões de super usuário

# Verificar se o docker está rodando
sudo service docker status

# Iniciar o docker caso ainda não esteja iniciado
sudo service docker start

# Configurar o serviço do docker para iniciar automaticamente com a máquina (recomendado)
sudo systemctl enable docker

# Checar se está instalado corretamente
docker run hello-world

# Copiar imagem oficial do Postgres
docker pull postgres

# Listar as containers instaladas e seus estados
docker ps -a

# Instalar container do postgres
# P.S. o '-p' serve para mapear a porta da sua máquina (esquerda) para a porta na docker (direita)
# P.S. o '-v' serve para mapear volumes/pastas da sua máquina (esquerda) para uma volume/pasta na docker (direita)
docker run -d --name="$DOCKER_NAME" -e POSTGRES_PASSWORD="$PASSWORD" -p "5432:5432" -v "$HOME/docker_volumes/postgres:/root/host_folder" postgres

# Para iniciar a container
docker start $DOCKER_NAME

# Para encerrar a container
docker stop $DOCKER_NAME

# Para acessar a container
# P.S. A container deve estar sendo executada
docker exec -it postgres bash

# FINAL VERSION
docker run --rm --name postgres -e POSTGRES_PASSWORD=pass -d -p 5432:5432 -v $HOME/docker/volumes/postgres:/var/lib/postgresql/data  postgres

docker exec -it postgres psql -U postgres